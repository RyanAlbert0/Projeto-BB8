z<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acessar: BB8 Archaeologist</title>
    <style>
        #canvas {
            border: 1px solid #ccc;
            display: block;
            margin: 40px auto;
        }
        .controls {
            width: 400px;
            margin: 10px auto;
            text-align: center;
        }
    </style>
</head>
<body>
    <main>
        <div class="controls" id="controls"></div>
        <canvas id="canvas" width="400" height="300"></canvas>
        <script>
            const canvas = document.getElementById('canvas');
            const ctx = canvas.getContext('2d');

            // Pontos fixos
            const points = [
                { x: 50, y: 50 },
                { x: 150, y: 80 },
                { x: 250, y: 120 },
                { x: 350, y: 250 },
                { x: 100, y: 200 },
                { x: 300, y: 50 },
                { x: 200, y: 220 },
                { x: 120, y: 30 }
            ];

            // Gera checkboxes para cada ponto
            const controlsDiv = document.getElementById('controls');
            points.forEach((_, i) => {
                const label = document.createElement('label');
                label.style.marginRight = "10px";
                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.className = 'point';
                checkbox.value = i;
                label.appendChild(checkbox);
                label.appendChild(document.createTextNode(` Ponto ${i+1} `));
                controlsDiv.appendChild(label);
            });

            function draw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);

                // Desenha pontos
                points.forEach((point, i) => {
                    ctx.beginPath();
                    ctx.arc(point.x, point.y, 7, 0, 2 * Math.PI);
                    ctx.fillStyle = ['blue', 'green', 'orange', 'red', 'purple', 'brown'][i % 6];
                    ctx.fill();
                    ctx.font = "bold 14px Arial";
                    ctx.fillStyle = "#222";
                    ctx.fillText(`P${i+1}`, point.x + 10, point.y - 10);
                });

                // Pega os pontos marcados na ordem
                const checked = Array.from(document.querySelectorAll('.point:checked')).map(cb => Number(cb.value));
                if (checked.length >= 2) {
                    ctx.beginPath();
                    ctx.moveTo(points[checked[0]].x, points[checked[0]].y);
                    for (let i = 1; i < checked.length; i++) {
                        ctx.lineTo(points[checked[i]].x, points[checked[i]].y);
                    }
                    ctx.strokeStyle = 'black';
                    ctx.lineWidth = 2;
                    ctx.stroke();
                }
            }

            // Atualiza ao mudar checkbox
            document.querySelectorAll('.point').forEach(cb => {
                cb.addEventListener('change', draw);
            });

            // Como os checkboxes são criados dinamicamente, adicione o evento após a criação
            controlsDiv.querySelectorAll('.point').forEach(cb => {
                cb.addEventListener('change', draw);
            });

            draw();
        </script>
    </main>
</body>
</html>